{"ast":null,"code":"import axios from \"axios\";\nimport React from \"react\";\nimport { BACKEND_API_URL, USER_STORAGE_KEY } from \"../helpers/variables\";\n\nconst useDiary = () => {\n  const user = JSON.parse(localStorage.getItem(USER_STORAGE_KEY));\n\n  const createProject = async data => {\n    try {\n      const response = await axios.post(`${BACKEND_API_URL}/user/diary`, { ...data,\n        _user: user.user._id\n      });\n      console.log(response.data);\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  const uploadProject = async image => {\n    try {\n      const fd = new FormData();\n      fd.append(\"image\", image, image.name);\n      const response = await axios.post(`${BACKEND_API_URL}/api/upload/single`, fd);\n      console.log(response.data);\n      return response.data;\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  const getPublicDiaries = async () => {\n    try {\n      const response = await axios.get(`${BACKEND_API_URL}/user/diary/publicDiaries`);\n      console.log(response.data);\n      return response.data;\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  const addView = async _diary => {\n    try {\n      const response = await axios.post(`${BACKEND_API_URL}/user/diary/viewDiary`, {\n        _diary\n      });\n      console.log(response.data);\n      return response.data;\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  const myDiaries = async () => {\n    try {\n      const response = await axios.get(`${BACKEND_API_URL}/user/diary/myDiaries/${user.user._id}`);\n      console.log(response.data);\n      return response.data;\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  const getSpecificDiary = async (_diary, setLoading) => {\n    try {\n      const response = await axios.post(`${BACKEND_API_URL}/user/diary/getSpecificDiary`, {\n        _diary,\n        _user: user ? user.user._id : \"\"\n      });\n      setLoading(false);\n      return response.data;\n    } catch (err) {\n      console.log(err.response);\n      setLoading(false);\n    }\n  };\n\n  const getInRange = async (from, to) => {\n    try {\n      const response = await axios.post(`${BACKEND_API_URL}/user/diary/getInRange`, {\n        startDate: from,\n        endDate: to,\n        _user: user.user._id\n      });\n      console.log(response.data);\n      return response.data;\n    } catch (err) {\n      console.log(err);\n      console.log(err.response);\n    }\n  };\n\n  return {\n    createProject,\n    uploadProject,\n    getPublicDiaries,\n    myDiaries,\n    addView,\n    getSpecificDiary,\n    getInRange\n  };\n};\n\nexport default useDiary;","map":{"version":3,"sources":["/Users/hawwalayanlola/Desktop/AImeÌ€ Diary/aime_diary/src/hooks/useDiary.js"],"names":["axios","React","BACKEND_API_URL","USER_STORAGE_KEY","useDiary","user","JSON","parse","localStorage","getItem","createProject","data","response","post","_user","_id","console","log","err","uploadProject","image","fd","FormData","append","name","getPublicDiaries","get","addView","_diary","myDiaries","getSpecificDiary","setLoading","getInRange","from","to","startDate","endDate"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { BACKEND_API_URL, USER_STORAGE_KEY } from \"../helpers/variables\";\r\n\r\nconst useDiary = () => {\r\n  const user = JSON.parse(localStorage.getItem(USER_STORAGE_KEY));\r\n\r\n  const createProject = async data => {\r\n    try {\r\n      const response = await axios.post(`${BACKEND_API_URL}/user/diary`, {\r\n        ...data,\r\n        _user: user.user._id,\r\n      });\r\n      console.log(response.data);\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n\r\n  const uploadProject = async image => {\r\n    try {\r\n      const fd = new FormData();\r\n      fd.append(\"image\", image, image.name);\r\n\r\n      const response = await axios.post(\r\n        `${BACKEND_API_URL}/api/upload/single`,\r\n        fd\r\n      );\r\n      console.log(response.data);\r\n      return response.data;\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n\r\n  const getPublicDiaries = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${BACKEND_API_URL}/user/diary/publicDiaries`\r\n      );\r\n      console.log(response.data);\r\n      return response.data;\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n  const addView = async _diary => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${BACKEND_API_URL}/user/diary/viewDiary`,\r\n        {\r\n          _diary,\r\n        }\r\n      );\r\n      console.log(response.data);\r\n      return response.data;\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n  const myDiaries = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `${BACKEND_API_URL}/user/diary/myDiaries/${user.user._id}`\r\n      );\r\n      console.log(response.data);\r\n      return response.data;\r\n    } catch (err) {\r\n      console.log(err.response);\r\n    }\r\n  };\r\n  const getSpecificDiary = async (_diary, setLoading) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${BACKEND_API_URL}/user/diary/getSpecificDiary`,\r\n        {\r\n          _diary,\r\n          _user: user ? user.user._id : \"\",\r\n        }\r\n      );\r\n\r\n      setLoading(false);\r\n      return response.data;\r\n    } catch (err) {\r\n      console.log(err.response);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const getInRange = async (from, to) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${BACKEND_API_URL}/user/diary/getInRange`,\r\n        {\r\n          startDate: from,\r\n          endDate: to,\r\n          _user: user.user._id,\r\n        }\r\n      );\r\n\r\n      console.log(response.data);\r\n\r\n      return response.data;\r\n    } catch (err) {\r\n      console.log(err);\r\n      console.log(err.response);\r\n    }\r\n  };\r\n\r\n  return {\r\n    createProject,\r\n    uploadProject,\r\n    getPublicDiaries,\r\n    myDiaries,\r\n    addView,\r\n    getSpecificDiary,\r\n    getInRange,\r\n  };\r\n};\r\n\r\nexport default useDiary;\r\n"]},"metadata":{},"sourceType":"module"}