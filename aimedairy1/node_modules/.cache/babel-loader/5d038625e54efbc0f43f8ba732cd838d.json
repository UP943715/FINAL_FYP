{"ast":null,"code":"import { USER_STORAGE_KEY } from \"../helpers/variables\";\n\nconst useErrorHandler = history => {\n  const handleError = err => {\n    alert(err.response.data.messages[0].message);\n\n    if (err.response.status === 401) {\n      localStorage.removeItem(USER_STORAGE_KEY);\n      history(\"/signin\");\n    }\n  };\n\n  return {\n    handleError\n  };\n};\n\nexport default useErrorHandler;","map":{"version":3,"sources":["/Users/hawwalayanlola/Desktop/AImeÌ€ Diary/aime_diary/src/hooks/useErrorHandler.js"],"names":["USER_STORAGE_KEY","useErrorHandler","history","handleError","err","alert","response","data","messages","message","status","localStorage","removeItem"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,sBAAjC;;AAEA,MAAMC,eAAe,GAAGC,OAAO,IAAI;AACjC,QAAMC,WAAW,GAAGC,GAAG,IAAI;AACzBC,IAAAA,KAAK,CAACD,GAAG,CAACE,QAAJ,CAAaC,IAAb,CAAkBC,QAAlB,CAA2B,CAA3B,EAA8BC,OAA/B,CAAL;;AACA,QAAIL,GAAG,CAACE,QAAJ,CAAaI,MAAb,KAAwB,GAA5B,EAAiC;AAC/BC,MAAAA,YAAY,CAACC,UAAb,CAAwBZ,gBAAxB;AACAE,MAAAA,OAAO,CAAC,SAAD,CAAP;AACD;AACF,GAND;;AAOA,SAAO;AAAEC,IAAAA;AAAF,GAAP;AACD,CATD;;AAWA,eAAeF,eAAf","sourcesContent":["import { USER_STORAGE_KEY } from \"../helpers/variables\";\r\n\r\nconst useErrorHandler = history => {\r\n  const handleError = err => {\r\n    alert(err.response.data.messages[0].message);\r\n    if (err.response.status === 401) {\r\n      localStorage.removeItem(USER_STORAGE_KEY);\r\n      history(\"/signin\");\r\n    }\r\n  };\r\n  return { handleError };\r\n};\r\n\r\nexport default useErrorHandler;\r\n"]},"metadata":{},"sourceType":"module"}