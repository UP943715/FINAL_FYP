{"ast":null,"code":"var _jsxFileName = \"/Users/hawwalayanlola/Desktop/AIme\\u0300 Diary/aime_diary/src/pages/diaryOpen/DiaryOpen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router\";\nimport parse from \"html-react-parser\";\nimport UserPage from \"../../components/Generic/UserPage\";\nimport { BACKEND_API_URL, USER_STORAGE_KEY } from \"../../helpers/variables\";\nimport useDiary from \"../../hooks/useDiary\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DiaryOpen = props => {\n  _s();\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [diary, setDiary] = useState();\n  const [loading, setLoading] = useState(true);\n  const {\n    addView,\n    getSpecificDiary\n  } = useDiary();\n  const user = JSON.parse(localStorage.getItem(USER_STORAGE_KEY));\n  let _diary = location.pathname.split(\"/\")[2];\n  useEffect(() => {\n    addDiaryView();\n    getDiary();\n  }, []);\n\n  const addDiaryView = async () => {\n    console.log(_diary);\n    await addView(_diary);\n  };\n\n  const getDiary = async () => {\n    const res = await getSpecificDiary(_diary, setLoading);\n    setDiary(res.diary);\n  };\n\n  if (loading || !diary) {\n    return /*#__PURE__*/_jsxDEV(UserPage, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flexed\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: loading ? \"Loading...\" : \"Access Denied!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(UserPage, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"diaryOpen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"diaryOpen__diary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"diaryOpen__diary__headings\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: diary.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"by\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: diary._user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"u-margin-top-small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"diaryOpen__diary__locationInfo\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: diary.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"diaryOpen__diary__logo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: diary.logo ? `${BACKEND_API_URL}/${diary.logo}` : require(\"../../assets/morning.jpg\"),\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"diaryOpen__diary__content\",\n          children: parse(diary.diary)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DiaryOpen, \"mJrkDiwSivXIQS1fAQ0Mg+VE7I8=\", false, function () {\n  return [useLocation, useNavigate, useDiary];\n});\n\n_c = DiaryOpen;\nexport default DiaryOpen;\n\nvar _c;\n\n$RefreshReg$(_c, \"DiaryOpen\");","map":{"version":3,"sources":["/Users/hawwalayanlola/Desktop/AImeÌ€ Diary/aime_diary/src/pages/diaryOpen/DiaryOpen.js"],"names":["React","useEffect","useState","useLocation","useNavigate","parse","UserPage","BACKEND_API_URL","USER_STORAGE_KEY","useDiary","DiaryOpen","props","location","navigate","diary","setDiary","loading","setLoading","addView","getSpecificDiary","user","JSON","localStorage","getItem","_diary","pathname","split","addDiaryView","getDiary","console","log","res","title","_user","name","logo","require"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router\";\r\nimport parse from \"html-react-parser\";\r\nimport UserPage from \"../../components/Generic/UserPage\";\r\nimport { BACKEND_API_URL, USER_STORAGE_KEY } from \"../../helpers/variables\";\r\nimport useDiary from \"../../hooks/useDiary\";\r\n\r\nconst DiaryOpen = props => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const [diary, setDiary] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const { addView, getSpecificDiary } = useDiary();\r\n  const user = JSON.parse(localStorage.getItem(USER_STORAGE_KEY));\r\n\r\n  let _diary = location.pathname.split(\"/\")[2];\r\n\r\n  useEffect(() => {\r\n    addDiaryView();\r\n    getDiary();\r\n  }, []);\r\n\r\n  const addDiaryView = async () => {\r\n    console.log(_diary);\r\n    await addView(_diary);\r\n  };\r\n\r\n  const getDiary = async () => {\r\n    const res = await getSpecificDiary(_diary, setLoading);\r\n    setDiary(res.diary);\r\n  };\r\n\r\n  if (loading || !diary) {\r\n    return (\r\n      <UserPage>\r\n        <div className='flexed'>\r\n          <h1>{loading ? \"Loading...\" : \"Access Denied!\"}</h1>\r\n        </div>\r\n      </UserPage>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserPage>\r\n      <div className='diaryOpen'>\r\n        <div className='diaryOpen__diary'>\r\n          <div className='diaryOpen__diary__headings'>\r\n            <h1>{diary.title}</h1>\r\n            <h5>by</h5>\r\n            <h2>{diary._user.name}</h2>\r\n            <hr className='u-margin-top-small' />\r\n          </div>\r\n          <div className='diaryOpen__diary__locationInfo'>\r\n            <h4>{diary.location}</h4>\r\n          </div>\r\n          <div className='diaryOpen__diary__logo'>\r\n            <img\r\n              src={\r\n                diary.logo\r\n                  ? `${BACKEND_API_URL}/${diary.logo}`\r\n                  : require(\"../../assets/morning.jpg\")\r\n              }\r\n              alt=''\r\n            />\r\n          </div>\r\n          <div className='diaryOpen__diary__content'>{parse(diary.diary)}</div>\r\n        </div>\r\n      </div>\r\n    </UserPage>\r\n  );\r\n};\r\n\r\nexport default DiaryOpen;\r\n"]},"metadata":{},"sourceType":"module"}